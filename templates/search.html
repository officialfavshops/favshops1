{% load static %}

<!DOCTYPE html>
<html>

<head>
    <title> FAVShops </title>
    <!-- for-mobile-apps -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta property="og:title" content="Vide" />
    <meta name="keywords" content="" />
    <script type="application/x-javascript">
        addEventListener("load", function() {
            setTimeout(hideURLbar, 0);
        }, false);

        function hideURLbar() {
            window.scrollTo(0, 1);
        }
    </script>
    <!-- //for-mobile-apps -->
    <link href="{% static 'template/css/bootstrap.css' %}" rel="stylesheet" type="text/css" />
    <!-- Custom Theme files -->
    <link href="{% static 'template/css/style.css' %}" rel="stylesheet" type="text/css" />
    <!-- js -->
    <script src="{% static 'template/js/jquery-1.11.1.min.js' %}"></script>

    <!-- //js -->
    <!-- start-smoth-scrolling -->
    <script type="text/javascript" src="{% static 'template/js/move-top.js' %}"></script>
    <script type="text/javascript" src="{% static 'template/js/easing.js' %}"></script>
    <script type="text/javascript">
        jQuery(document).ready(function($) {
            $(".scroll").click(function(event) {
                event.preventDefault();
                $('html,body').animate({
                    scrollTop: $(this.hash).offset().top
                }, 1000);
            });
        });
    </script>
    <!-- start-smoth-scrolling -->
    <link href="{% static 'template/css/font-awesome.css' %}" rel="stylesheet">
    <link href='//fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Noto+Sans:400,700' rel='stylesheet' type='text/css'>


    <!--- start-rate---->
    <script src="{% static 'template/js/jstarbox.js' %}"></script>
    <link rel="stylesheet" href="{% static 'template/css/jstarbox.css' %}" type="text/css" media="screen" charset="utf-8" />
    <script type="text/javascript">
        jQuery(function() {
            jQuery('.starbox').each(function() {
                var starbox = jQuery(this);
                starbox.starbox({
                    average: starbox.attr('data-start-value'),
                    changeable: starbox.hasClass('unchangeable') ? false : starbox.hasClass('clickonce') ? 'once' : true,
                    ghosting: starbox.hasClass('ghosting'),
                    autoUpdateAverage: starbox.hasClass('autoupdate'),
                    buttons: starbox.hasClass('smooth') ? false : starbox.attr('data-button-count') || 5,
                    stars: starbox.attr('data-star-count') || 5
                }).bind('starbox-value-changed', function(event, value) {
                    if (starbox.hasClass('random')) {
                        var val = Math.random();
                        starbox.next().text(' ' + val);
                        return val;
                    }
                })
            });
        });
    </script>
    <!---//End-rate---->

    <script>
        window.jQuery || document.write('<script src="static/template/js/vendor/jquery-1.11.1.min.js"><\/script>')
    </script>
    <script src="{% static 'template/js/jquery.vide.min.js'%}"></script>

    <style>
        input::-webkit-input-placeholder {
            color: transparent;
        }
        
        input:focus::-webkit-input-placeholder {
            color: #888;
        }
        
        a {
            text-decoration: none;
        }
        
        .toggle input[type="radio"]+.label-text:before {
            content: "\f204";
            font-family: "FontAwesome";
            speak: none;
            font-style: normal;
            font-weight: normal;
            font-variant: normal;
            text-transform: none;
            line-height: 1;
            -webkit-font-smoothing: antialiased;
            width: 1em;
            display: inline-block;
            margin-right: 10px;
        }
        
        .toggle input[type="radio"]:checked+.label-text:before {
            content: "\f205";
            color: #16a085;
            animation: effect 250ms ease-in;
        }
        
        .toggle input[type="radio"]:disabled+.label-text {
            color: #aaa;
        }
        
        .toggle input[type="radio"]:disabled+.label-text:before {
            content: "\f204";
            color: #ccc;
        }
    </style>

</head>

<body>
    <!--<a href="offer.html"><img src="{% static 'template/images/download.png'%}" class="img-head" alt=""></a>-->
    <div class="header">

        <div class="container">

            <div class="logo">
                <h1><a href="{% url 'index' %}" style="font-weight: bold;"><b>F<br>A<br>V</b>FAVShops<span>Your Family market</span></a></h1>
            </div>
            <div class="head-t">
                <ul class="card">
                    <li><a href="{% url 'about'%}"><i class="fa fa-heart" aria-hidden="true"></i>About</a></li>
                    {% if user.is_authenticated %}
                    <li><a href="{% url 'profile_page' %}"><i class="fa fa-user" aria-hidden="true"></i>Profile</a></li>
                    <li><a href="{% url 'order_history' %}"><i class="fa fa-file-text-o" aria-hidden="true"></i>Order History</a></li>
                    <li><a href="{% url 'cart_page' %}"><i class="fa fa-file-text-o" aria-hidden="true"></i>Cart</a></li>
                    {% else %}
                    <li><a href="{% url 'user_login' %}"><i class="fa fa-user" aria-hidden="true"></i>Login</a></li>
                    <li><a href="{% url 'user_register' %}"><i class="fa fa-arrow-right" aria-hidden="true"></i>Register</a></li>
                    {% endif %}

                    <li><a href="{% url 'contact' %}"><i class="fa fa-ship" aria-hidden="true"></i>Contact </a></li>
                </ul>
            </div>

            <div class="header-ri">
                <ul class="social-top">
                    <li><a href="https://www.facebook.com/favshops/" class="icon facebook"><i class="fa fa-facebook" aria-hidden="true"></i><span></span></a></li>
                    <li><a href="#" class="icon twitter"><i class="fa fa-twitter" aria-hidden="true"></i><span></span></a></li>
                    <li><a href="#" class="icon pinterest"><i class="fa fa-pinterest-p" aria-hidden="true"></i><span></span></a></li>
                    <li><a href="#" class="icon dribbble"><i class="fa fa-dribbble" aria-hidden="true"></i><span></span></a></li>
                </ul>
            </div>


        </div>
    </div>


    <div class="container mt-3">
        <h2 style="color: rgb(241, 6, 151);margin-top:70px;">Type Product name, brand etc..</h2>
        <p style="color: black;"></p>
        <input class="form-control" id="myInput" type="text" style="margin-top: 5px;" placeholder=" Search..">
        <br>
        <table class="table table-bordered table-hover">
            <thead>
                <tr class="table-success">
                    <th style="font-size: 15px;font-weight:bold;">Product Image</th>
                    <th style="font-size: 15px;font-weight:bold;">Product Details</th>

                </tr>
            </thead>
            <tbody id="myTable">
                {% for obj in products %}
                <tr>
                    <td>
                        <a href="{% url 'product_details' pk=obj.pk %}" class="offer-img">
                            <img src="{{obj.image.url}}" style="height:150px;width:150px;" class="img-responsive" alt=""> {% if obj.out_of_stock == 'True' %}
                            <div class="offer">
                                <p><span>Not Available</span></p>
                            </div>
                            {% endif %}
                        </a>
                    </td>
                    <td>
                        <div class="mid-1">
                            <div class="women">
                                <h4><a href="{% url 'product_details' pk=obj.pk %}"> {{obj.product_name}} </a>( {{obj.quantity}})</h4>
                                {% if obj.brand %}
                                <h5>
                                    <p style="margin-top: 5px;color:gray;">{{obj.brand}}</p>
                                </h5>
                                {% else %}
                                <h5>
                                    <p style="margin-top: 5px;color:gray;"> favshops</p>
                                </h5>
                                {% endif %}
                            </div>
                            <div class="mid-2">
                                <h5>
                                    {% if obj.discount_percentage != "0" %}
                                    <p style="color:black;"><label><span>&#8377;</span>{{obj.mrp}}</label><em class="item_price"><span>&#8377;</span>{{obj.discount_price}}</em><span style="margin-left: 10px;color:red;font-weight:bold;"> {{obj.discount_percentage}} % OFF</span></p>

                                    {% else %}
                                    <p style="color:black;"><em class="item_price"><span>&#8377;</span>{{obj.discount_price}}</em></p>
                                    {% endif %}
                                </h5>

                                <div class="clearfix"></div>
                            </div>
                            <div class="add add-2">

                                {% if user.is_authenticated %} {% if obj.out_of_stock == 'False' %}
                                <button class="btn btn-danger my-cart-btn my-cart-b btn-ajax" data-pid="{{obj.pk}}">Add to Cart</button> {% else %}
                                <button class="btn btn-danger my-cart-btn my-cart-b " data-pid="{{obj.pk}}" disabled>Add to Cart</button>{% endif %} {% else %}
                                <button class="btn btn-danger my-cart-btn my-cart-b btn-ajax" data-pid="{{obj.pk}}">Add to Cart</button>{% endif %}

                            </div>
                            <h6 id="msg{{obj.pk}}" style="color: green;text-align:center;"></h6>
                        </div>
                    </td>
                </tr>

                {% endfor %}
            </tbody>
        </table>

    </div>

    <!--login required-->

    <!--<div class="modal fade" id="myModalopen" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalCenterTitle" style="font-weight: bold;">Login Required</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
                </div>
                <div class="modal-body">
                    <p class="text-center" style="color: red;font-weight:bold;">Customer must login first to add products into their cart.</p>
                </div>
                <div class="modal-footer">
                    <a href="{% url 'user_login' %}"><button type="button" class="btn btn-success" >Login</button></a>
                    <a href="{% url 'user_register' %}"><button type="button" class="btn btn-primary">Register</button></a>
                </div>
            </div>
        </div>
    </div>-->

    <!--footer-->
    <div class="footer">
        <div class="container">
            <div class="col-md-3 footer-grid">
                <h3>About Us</h3>
                <p>Favshops is now available in your locality to provide your essential products with low cost as compare to market cost with some special discount and a minimum amount of delivery charges at your doorstep.</p>
            </div>
            <div class="col-md-3 footer-grid ">
                <h3>Menu</h3>
                <ul>
                    <li><a href="{% url 'index' %}">Home</a></li>
                    <li><a href="#">Grocery</a></li>
                    <li><a href="{% url 'beauty_products' %}">Beauty Products</a></li>
                    <li><a href="{% url 'cooking_oil' %}">Cooking Oil</a></li>
                    <li><a href="{% url 'masala' %}">Masala</a></li>

                </ul>
            </div>
            <div class="col-md-3 footer-grid ">
                <h3>Customer Services</h3>
                <ul>
                    <li><a href="{% url 'about' %}">About</a></li>
                    <!--<li><a href="terms.html">Terms & Conditions</a></li>
                <li><a href="faqs.html">Faqs</a></li>-->
                    <li><a href="{% url 'contact' %}">Contact</a></li>
                    <!--<li><a href="offer.html">Online Shopping</a></li>-->

                </ul>
            </div>
            <div class="col-md-3 footer-grid">
                <h3>My Account</h3>
                <ul>
                    <li><a href="{% url 'user_login' %}">Login</a></li>
                    <li><a href="{% url 'user_register' %}">Register</a></li>
                </ul>
            </div>
            <div class="clearfix"></div>
            <div class="footer-bottom">
                <h2><a href="{% url 'index' %}" style="font-weight: bold;"><b>F<br>A<br>V</b>FAVShops<span>Your Family market</span></a></h2>
                <p class="fo-para"><b>CUSTOMER SATISFACTION IS OUR FIRST PRIORITY</b></p>
                <ul class="social-fo">
                    <li><a href="#" class=" face"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                    <li><a href="#" class=" twi"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                    <li><a href="#" class=" pin"><i class="fa fa-pinterest-p" aria-hidden="true"></i></a></li>
                    <li><a href="#" class=" dri"><i class="fa fa-dribbble" aria-hidden="true"></i></a></li>
                </ul>
                <div class=" address">
                    <div class="col-md-4 fo-grid1">
                        <p><i class="fa fa-home" aria-hidden="true"></i>Kalinganagar Industrial Area, Jajpur, Odisha, 755026</p>
                    </div>
                    <div class="col-md-4 fo-grid1">
                        <p><i class="fa fa-phone" aria-hidden="true"></i>+91 8480124631 </p>
                    </div>
                    <div class="col-md-4 fo-grid1">
                        <p><a href="mailto:info@example.com"><i class="fa fa-envelope-o" aria-hidden="true"></i>officialfavshops@gmail.com</a></p>
                    </div>
                    <div class="clearfix"></div>

                </div>
            </div>
            <!--<div class="copy-right">
            <p> &copy; 2016 Big store. All Rights Reserved | Design by <a href=""> Chandan</a></p>
        </div>-->
        </div>
    </div>
    <!-- //footer-->

    <script type="text/javascript">
        $(document).ready(function() {
            //Horizontal Tab
            $('#parentHorizontalTab').easyResponsiveTabs({
                type: 'default', //Types: default, vertical, accordion
                width: 'auto', //auto or any width like 600px
                fit: true, // 100% fit in a container
                tabidentify: 'hor_1', // The tab groups identifier
                activate: function(event) { // Callback function if tab is switched
                    var $tab = $(this);
                    var $info = $('#nested-tabInfo');
                    var $name = $('span', $info);
                    $name.text($tab.text());
                    $info.show();
                }
            });

            // Child Tab
            $('#ChildVerticalTab_1').easyResponsiveTabs({
                type: 'vertical',
                width: 'auto',
                fit: true,
                tabidentify: 'ver_1', // The tab groups identifier
                activetab_bg: '#fff', // background color for active tabs in this group
                inactive_bg: '#F5F5F5', // background color for inactive tabs in this group
                active_border_color: '#c1c1c1', // border color for active tabs heads in this group
                active_content_border_color: '#5AB1D0' // border color for active tabs contect in this group so that it matches the tab head border
            });

            //Vertical Tab
            $('#parentVerticalTab').easyResponsiveTabs({
                type: 'vertical', //Types: default, vertical, accordion
                width: 'auto', //auto or any width like 600px
                fit: true, // 100% fit in a container
                closed: 'accordion', // Start closed if in accordion view
                tabidentify: 'hor_1', // The tab groups identifier
                activate: function(event) { // Callback function if tab is switched
                    var $tab = $(this);
                    var $info = $('#nested-tabInfo2');
                    var $name = $('span', $info);
                    $name.text($tab.text());
                    $info.show();
                }
            });
        });
    </script>


    <!-- tabs -->
    <script src="{% static 'template/js/easyResponsiveTabs.js'%}" type="text/javascript"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#horizontalTab').easyResponsiveTabs({
                type: 'default', //Types: default, vertical, accordion
                width: 'auto', //auto or any width like 600px
                fit: true // 100% fit in a container
            });
        });
    </script>
    <!-- //tabs -->
    <!-- smooth scrolling -->
    <script type="text/javascript">
        $(document).ready(function() {
            /*
                var defaults = {
                containerID: 'toTop', // fading element id
                containerHoverID: 'toTopHover', // fading element hover id
                scrollSpeed: 1200,
                easingType: 'linear'
                };
            */
            $().UItoTop({
                easingType: 'easeOutQuart'
            });
        });
    </script>

    <script type="text/javascript">
        function tempAlert(msg, duration) {
            var el = document.createElement("div");
            el.setAttribute("style", "position:absolute;top:40%;left:20%;background-color:white;");
            el.innerHTML = msg;
            setTimeout(function() {
                el.parentNode.removeChild(el);
            }, duration);
            document.body.appendChild(el);
        }
    </script>

    <!--Add to cart with ajax -->
    {% block javascript %}
    <script type="text/javascript">
        $(".btn-ajax").click(function() {
            var pid;

            pid = $(this).attr("data-pid");
            console.log('Id', pid);

            $.ajax({
                url: '{% url "add_to_cart_ajax" %}',
                data: {
                    'id': pid
                },
                dataType: 'json',

                success: function(data) {
                    if (data.added) {
                        msg = "Successfylly Added to your cart.";
                        var msgid = 'msg' + pid
                        document.getElementById(msgid).style.color = "green";
                        document.getElementById(msgid).innerHTML = msg;

                        setTimeout(function() {
                            document.getElementById(msgid).innerHTML = '';
                        }, 3000);
                        document.getElementById("cart_len").innerHTML = data.cart_len;
                    }

                },
                error: function(data) {
                    msg = "Login Required to add Product .";
                    var msgid = 'msg' + pid
                    document.getElementById(msgid).style.color = "red";
                    document.getElementById(msgid).innerHTML = msg;
                }
            })

        });
    </script>
    <script>
        $(document).ready(function() {
            $("#myInput").on("keyup", function() {
                var value = $(this).val().toLowerCase();
                $("#myTable tr").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });
        });
    </script>


    <!--For login required cart-->
    <a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
    <!-- //smooth scrolling -->
    <!-- for bootstrap working -->
    <script src="{% static 'template/js/bootstrap.js'%}"></script>
    <!-- //for bootstrap working -->
    <script type='text/javascript' src="{% static 'template/js/jquery.mycart.js'%}"></script>
    <script type="text/javascript">
        $(function() {

            var goToCartIcon = function($addTocartBtn) {
                var $cartIcon = $(".my-cart-icon");
                var $image = $('<img width="30px" height="30px" src="' + $addTocartBtn.data("image") + '"/>').css({
                    "position": "fixed",
                    "z-index": "999"
                });
                $addTocartBtn.prepend($image);
                var position = $cartIcon.position();
                $image.animate({
                    top: position.top,
                    left: position.left
                }, 500, "linear", function() {
                    $image.remove();
                });
            }

            $('.my-cart-btn').myCart({
                classCartIcon: 'my-cart-icon',
                classCartBadge: 'my-cart-badge',
                affixCartIcon: true,
                checkoutCart: function(products) {
                    $.each(products, function() {
                        console.log(this);
                    });
                },
                clickOnAddToCart: function($addTocart) {
                    goToCartIcon($addTocart);
                },
                getDiscountPrice: function(products) {
                    var total = 0;
                    $.each(products, function() {
                        total += this.quantity * this.price;
                    });
                    return total * 1;
                }
            });

        });
    </script>
    {% endblock %}

    <a href="#" id="toTop" style="display: block;"> <span id="toTopHover" style="opacity: 1;"> </span></a>
    <!-- //smooth scrolling -->
    <!-- for bootstrap working -->
    <script src="{% static 'template/js/bootstrap.js'%}" type="text/javascript"></script>
    <!-- //for bootstrap working -->

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


</body>

</html>